!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1)},function(e,t){(()=>{var e=1,t={desktopImage:1,tabletImage:1,mobileImage:1},n={},o=document.createElement("div");o.classList.add("flex-container","row");var a=document.createElement("div");a.classList.add("col-2","d-flex","flex-column","align-items-center","border-right","pt-5"),o.appendChild(a);var s=document.createElement("div");s.classList.add("col-7","d-flex","flex-column","align-items-center","border-right"),o.appendChild(s);var d=document.createElement("div");function i(o,a,s,d,i,l,c,p,u,m){if(u){var f=i?s:parseFloat(s/a*100).toFixed(2)+"%",h=i?d:parseFloat(d/o*100).toFixed(2)+"%",y=document.createElement("li"),g=document.createElement("span"),b=document.createElement("div"),v=[f,h,u],E=v.join(","),L=p.type||"",x=Object.hasOwnProperty.call(t,L)?t[L]:1,C="hotspot-"+e;if(b.className="position-absolute rounded-circle border hotspot",b.id=C,y.className="hotspot-list",b.dataset.count=x,y.dataset.count=x+" - ",g.dataset.id=C,g.className="delete-hotspot js-close",g.dataset.hotspot=E,g.dataset.type=p.type,p.className="list-group-item d-flex justify-content-between align-items-center",y.innerHTML=`<span>Product: ${u}</span>`,y.dataset.coord=[f,h].join(","),y.dataset.productId=u,b.style="top:"+h+";left:"+f+";",l.appendChild(b),y.appendChild(g),c.appendChild(y),e++,t[L]++,g.addEventListener("click",(function(){this.closest("li").remove();var e=this.dataset.id,o=this.dataset.hotspot,a=this.dataset.type;document.getElementById(e).remove();for(let e=0;e<n.images.length;e++){if(n.images[e].type===a){var s=n.images[e].hotspots,d=s.map(e=>e.join(",")).indexOf(o);d>-1&&(s.splice(d,1),n.images[e].hotspots=s,r(),t[L]--)}}})),m)for(let e=0;e<n.images.length;e++){n.images[e].type===p.type&&(n.images[e].hotspots.push(v),r())}}}function l(e,t,n){document.querySelectorAll("."+e).forEach(e=>{e.classList.add(t),e.classList.remove(n)})}function c(e,t){var n=document.getElementById(e.type);for(let e=0;e<t.length;e++){var o=t[e];o.type!=n.getAttribute("id")&&l(o.type,"hidden","displayed")}l(e.type,"displayed","hidden"),document.querySelectorAll(".show-hide-image-button").forEach(e=>{e.classList.remove("btn-success")}),e.domElement.classList.add("btn-success")}function r(){emit({type:"sfcc:value",payload:n})}function p(e){console.log("createHotspotInfoContainerDOMElements",p),console.log("createHotspotInfoContainerDOMElements:currentImage",e);var t=document.createElement("img"),n=document.createElement("ul"),o=document.createElement("p");o.classList.add("hotspots-info-title","text-uppercase","font-weight-bold","pt-5"),o.innerHTML=`Selected hotspots for ${e.displayText}:`,n.className="list-group py-1 ul-"+e.type;var a=document.createElement("div");a.setAttribute("id",e.type),a.classList.add("img-wrapper",e.type,"visib-hidden");let l=e.hotspots?e.hotspots:[];var c,r;t.src=e.src?e.src:"",a.appendChild(t),a.appendChild(t);var u=document.createElement("div");function m(t){var o=this.target.getBoundingClientRect(),s=this.clientX-o.left,d=this.clientY-o.top;i(c,r,s,d,!1,a,n,e,10,!0)}u.classList.add("float-right","hidden","hotspot-info-wrapper",e.type),u.appendChild(o),u.appendChild(n),d.appendChild(u),t.addEventListener("load",(function(){c=this.clientHeight,r=this.clientWidth,a.classList.add("hidden"),l&&l.length>0&&l.forEach((function(t){i(c,r,t[0],t[1],!0,a,n,e,t[2])}))})),t.addEventListener("click",(function(e){emit({type:"sfcc:breakout",payload:{id:"sfcc:productPicker"}},m.bind(e))})),s.appendChild(a)}d.classList.add("col-3","hotspots-list-wrapper","d-flex","flex-column","align-items-center"),o.appendChild(d),document.body.appendChild(o),subscribe("sfcc:ready",async e=>{n=Object.assign({},e.value),function(){var e=document.createElement("button"),t=[{type:"desktopImage",text:"Load desktop image",domElement:document.createElement("button")},{type:"tabletImage",text:"Load tablet image",domElement:document.createElement("button")},{type:"mobileImage",text:"Load mobile image",domElement:e}];for(let e=0;e<t.length;e++){var n=t[e];a.appendChild(n.domElement),n.domElement.className="show-hide-image-button btn btn-secondary w-75 text-uppercase button-"+n.type,n.domElement.innerHTML=n.text,n.domElement.addEventListener("click",c.bind(this,n,t))}}();var t=[];n.images.forEach(e=>{e.hotspots=e.hotspots&&"null"!==e.hotspots?e.hotspots:[],p(e),t.push(e.type)}),document.querySelectorAll("."+t[0]).forEach(e=>{e.classList.add("displayed")}),document.querySelector(".button-"+t[0]).classList.add("btn-success")})})()}]);