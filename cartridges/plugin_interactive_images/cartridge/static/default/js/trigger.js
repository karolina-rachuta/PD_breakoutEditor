!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}({7:function(e,t,o){o(8)},8:function(e,t){(()=>{let e=document.createElement("div"),t=document.createElement("span"),o={};function r(e){console.log("renderHotspots-trigger",r),console.log("renderHotspots-trigger-hotspots",e);var t="";return e.forEach((e,o)=>{t+=`<span class="hotspot-breakout-marker" data-index="${o+1} - " style="display: block; margin-top: 5px; margin-left: 15px">${e[2]}</span>`}),t}function n(e){if(console.log("showCreatedHotspots-trigger",n),console.log("showCreatedHotspots-trigger-currentValue",e),e.images){let n=document.querySelector(".hotspots-container");n&&n.parentNode.removeChild(n),n=document.createElement("div"),n.className="hotspots-container";for(let a=0;a<e.images.length;a++){var t=e.images[a],o=t.type,s=o.indexOf("Image"),l=s>-1?o.substr(0,s):o;let c=document.createElement("span");c.style.display="block",c.style.padding="2px 5px",c.innerHTML=`<span class="hotspot-header">${l} hotspots:</span> ${t.hotspots.length>0?r(t.hotspots):'<span style="display: block; color: red;">No hotspots created yet</span>'}`,n.appendChild(c)}document.body.appendChild(n)}}function s(e){console.log("updatePageDesignerValue-trigger",s),console.log("updatePageDesignerValue-trigger-value",e),emit({type:"sfcc:value",payload:e})}function l(e){console.log("handleBreakoutOpen-trigger",l),console.log("handleBreakoutOpen-trigger-value",e);var t=document.querySelector(".hotspots-display");for(let e=0;e<t.children.length;e++){var r=t.children[e],n=r.getAttribute("type"),c=r.getAttribute("src");if(Object.hasOwnProperty.call(o,"images")&&o.images&&o.images.length>0){var i=o.images.filter((function(e){return e.type===n}));i&&i.length>0?o.images.forEach((function(e){e.type===n&&i[0].src!==c&&(e.hotspots=[],e.src=c)})):o.images.push({src:c,type:n,displayText:r.getAttribute("name"),hotspots:[]})}else{Object.hasOwnProperty.call(o,"images")||(o.images=[]);var u=r.getAttribute("hotspots");try{u=JSON.parse(u)}catch(e){u=[]}o.images.push({src:r.getAttribute("src"),type:r.getAttribute("type"),displayText:r.getAttribute("name"),hotspots:u})}}s(o),emit({type:"sfcc:breakout",payload:{id:"imageHotspotsEditorBreakoutScript",title:"Set up hotspots",value:o}},a),console.log("emit-trigger",emit),console.log("emit-trigger-currentValue",o)}function a({type:e,value:t}){console.log("handleBreakoutClose-trigger",a),console.log("handleBreakoutClose-trigger-type",e),console.log("handleBreakoutClose-trigger-value",t),"sfcc:breakoutApply"===e&&c(t)}function c(e){console.log("handleBreakoutApply-trigger",c),console.log("handleBreakoutApply-trigger-value",e),o=Object.assign({},e),s(o),n(o)}subscribe("sfcc:ready",async({value:r,...s})=>{console.log("subscribe-trigger",subscribe),console.log("value-subscribe-trigger",r);let a=document.createElement("button");a.setAttribute("class","slds-button slds-button_outline-brand btn btn-secondary mb-3"),a.innerHTML="Create Hotspots",a.onclick=l;let c=document.createElement("div");c.setAttribute("class","alert alert-warning mt-3 text-uppercase text-center"),c.innerHTML="Please save the changes before and after creating hotspots!",t.className="hotspots-display",o=r||{},document.body.appendChild(c),document.body.appendChild(a),document.body.appendChild(t),document.body.appendChild(e),n(o)}),subscribe("sfcc:value",async({breakout:e,...t})=>{console.log("subscribe-second-trigger",subscribe),console.log("subscribe-second-trigger-breakoutValue",e),console.log("subscribe-second-trigger-rest",...t);const o=document.querySelector(".slds-button_brand"),{id:r}=e;o.addEventListener("click",()=>c(r))})})()}});